### **实验所需文件清单**

整个实验流程从纯软件分析到最终硬件验证，主要分为三个阶段，共需要 **6 个核心代码/脚本文件**。

#### **第一阶段：Python 软件实现与数据准备**
(在您的电脑上运行)

1.  **`fir_analysis.py`**
    * **用途**：用于初步分析 `birds.wav` 音频，显示其频谱图，帮助确定滤波器的设计参数。

2.  **`fir_filter_sw.py`**
    * **用途**：实现纯软件的 FIR 滤波器，测试其性能作为后续硬件加速的基准。同时，此脚本也负责生成供 Vitis HLS C语言仿真所需的 `.dat` 数据文件。

#### **第二阶段：Vitis HLS 硬件设计与优化**
(在 Vitis HLS 工具中创建和编辑)

3.  **`fir.h`**
    * **用途**：C++ 头文件，用于定义 FIR 滤波器的相关常量（如滤波器阶数 N）和自定义数据类型。

4.  **`fir.cpp`**
    * **用途**：核心的 C++ 源文件。其中包含了 FIR 滤波器的算法逻辑，以及所有用于性能优化的 HLS 指令（Pragmas），包括最终用于生成 AXI 总线接口的关键指令。

5.  **`fir_test.cpp`**
    * **用途**：C++ 测试激励文件 (Testbench)。它会读取 `fir_filter_sw.py` 生成的数据文件，调用 `fir_wrap` 函数进行测试，并与预期结果进行比对，以验证 C++ 代码的功能正确性。

#### **第三阶段：PYNQ 板上最终验证**
(在 PYNQ 的 Jupyter Notebook 环境中创建和运行)

6.  **`pynq_final_test.ipynb`**
    * **用途**：最终的 PYNQ 启动脚本。它负责加载 Vivado 生成的硬件比特流 (`.bit` 文件)，通过 AXI 总线控制您的 FIR IP 核，向其发送数据并读取结果，最终完成性能测试和结果展示。

---
#### **过程中生成的关键中间/最终文件**
除了上述代码文件，您还需要管理以下由工具生成或作为输入的重要文件：

* **输入数据**:
    * `birds.wav`：原始音频文件。
    * `input.dat`, `coeffs.dat`, `golden_output.dat`：由 Python 生成，供 HLS 仿真使用。

* **HLS 到 Vivado**:
    * `export.zip`：由 Vitis HLS 生成，是包含您 IP 核的压缩包，将作为 Vivado 的输入。

* **Vivado 到 PYNQ (最终成果)**:
    * `fir.bit`：FPGA 比特流配置文件。
    * `fir.hwh`：硬件描述文件，供 PYNQ 框架解析。
